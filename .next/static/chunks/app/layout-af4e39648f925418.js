(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{1785:function(e,t,n){Promise.resolve().then(n.t.bind(n,2778,23)),Promise.resolve().then(n.bind(n,4768))},4768:function(e,t,n){"use strict";n.d(t,{default:function(){return l}});var s=n(7437),a=n(7648),r=n(9376),i=n(5632);function l(){let{user:e,signOut:t}=(0,i.a)(),n=(0,r.usePathname)();(0,r.useRouter)();let l=async()=>{try{await t()}catch(e){console.error("Logout error:",e)}};return"/login"===n?null:(0,s.jsx)("nav",{className:"bg-white shadow-md border-b border-gray-200",children:(0,s.jsx)("div",{className:"container mx-auto px-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-8",children:[(0,s.jsx)(a.default,{href:"/",className:"text-xl font-bold text-blue-600",children:"Food Tracker"}),(0,s.jsx)("div",{className:"hidden md:flex space-x-4",children:[{href:"/",label:"Camera"},{href:"/history",label:"History"},{href:"/summary",label:"Summary"},{href:"/settings",label:"Settings"},{href:"/admin",label:"Admin"}].map(e=>(0,s.jsx)(a.default,{href:e.href,className:"px-3 py-2 rounded-md text-sm font-medium transition ".concat(n===e.href?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-100"),children:e.label},e.href))})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[e&&(0,s.jsx)("span",{className:"text-sm text-gray-600 hidden sm:block",children:e.email}),(0,s.jsx)("button",{onClick:l,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-md transition",children:"Logout"})]})]})})})}},5632:function(e,t,n){"use strict";n.d(t,{a:function(){return i}});var s=n(2265),a=n(4033),r=n(9376);function i(){let[e,t]=(0,s.useState)(null),[n,i]=(0,s.useState)(null),[l,u]=(0,s.useState)(!0),c=(0,r.useRouter)(),o=(0,a.createBrowserClient)("https://migwxtovyxygobpmhuqk.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1pZ3d4dG92eXh5Z29icG1odXFrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU5MzM2MDgsImV4cCI6MjA4MTUwOTYwOH0.05AiLm3KJCGQnMsLv1ffezeISbzCOeXVrmRUtlC4ysg");return(0,s.useEffect)(()=>{o.auth.getSession().then(e=>{var n;let{data:{session:s}}=e;i(s),t(null!==(n=null==s?void 0:s.user)&&void 0!==n?n:null),u(!1)});let{data:{subscription:e}}=o.auth.onAuthStateChange((e,n)=>{var s;i(n),t(null!==(s=null==n?void 0:n.user)&&void 0!==s?s:null),u(!1)});return()=>e.unsubscribe()},[o]),{user:e,session:n,loading:l,signUp:async(e,t)=>{let{data:n,error:s}=await o.auth.signUp({email:e,password:t});if(s)throw s;return n},signIn:async(e,t)=>{let{data:n,error:s}=await o.auth.signInWithPassword({email:e,password:t});if(s)throw s;return n},signOut:async()=>{let{error:e}=await o.auth.signOut();if(e)throw e;c.push("/login")},isAuthenticated:!!e}}},2778:function(){}},function(e){e.O(0,[461,146,648,971,117,744],function(){return e(e.s=1785)}),_N_E=e.O()}]);